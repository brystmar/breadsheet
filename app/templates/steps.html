{% extends "recipe.html" %}

{% block steps_list %}
    <div id="steps">
        <table id="steps_list">
            <tr id="step_header_row">
                <th>Step</th>
                <th>Directions</th>
                <th>When?</th>
                <th>Then Wait...</th>
                <th>Time Range</th>
            </tr>
            
            {% for step in steps %}
                <tr id="step_row{{ step.id }}">
                    <td id="step_number{{ step.id }}">{{ step.id }}.</td>
                    <td>{{ step.text }}</td>
                    <td>{{ step.when }}</td>
                    <td id="step_wait{{ step.number}}">
                        {% for tw in twforms %}
                            {% if tw.step_id == step.id %}
                            {{ tw.then_wait_h(size=2, id="then_wait_h{}".format(step.number)) }}:{{
                                tw.then_wait_m(size=2, id="then_wait_m{}".format(step.number)) }}:{{
                                tw.then_wait_s(size=2, id="then_wait_s{}".format(step.number)) }}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>{{ step.wait_time_range }}</td>
                </tr>
            {% endfor %}
        </table>
        <p></p>
    </div>

    {% block start_finish %}
    {% endblock %}

{% endblock %}
